# Technical Requirements

---

## 1. Введение

Формирование Персональной Траектории Обучения - Онлайн-платформа для репетиторов начальной и средней школ.

Наш сервис изучает интересы ученика, анализируя данные из открытых источников. На основе этой информации мы создаем персональный учебный план. Репетитор подбирает тематические задания и предлагает идеи для уроков. Это помогает вовлечь учеников, экономит время на подготовку к занятию и позволяет сохранить индивидуальный подход к каждому, даже при большой нагрузке.

Цель проекта - Повысить качество и эффективность подготовки репетиторов к занятиям через автоматический сбор данных об интересах учеников и использование AI для персонализации учебного материала, что сокращает время подготовки и улучшает образовательные результаты учащихся.

---

## 2. Use-cases

[Use-cases](use-cases.md)

---

## 3. Функциональные требования

Описаны функциональные требования для всех встречающихся сценариев в каджом use-case.

### [UC1 - Регистрация](use-cases.md#uc1---регистрация)

- **FR1** - Система должна предоставлять пользователю возможность создать учётную запись.
- **FR2** - Система должна проверять корректность введённых регистрационных данных.
- **FR3** - Система должна сохранять новый аккаунт в базе данных.
- **FR4** - Система должна отправлять письмо с подтверждением регистрации на почту пользователя.
- **FR5** - Система должна активировать учётную запись после подтверждения по ссылке из письма.
- **FR6** - Система должна авторизовать пользователя после успешной регистрации.
- **FR7** - Система должна информировать пользователя об ошибках при некорректных данных или ошибках сети.

### [UC2 - Авторизация](use-cases.md#uc2---авторизация)

- **FR8** - Система должна предоставлять пользователю возможность войти в учётную запись.
- **FR9** - Система должна проверять корректность введённых данных при входе.
- **FR10** - Система должна предоставлять доступ к функционалу платформы при успешной авторизации.
- **FR11** - Система должна информировать пользователя об ошибке при неверных данных или ошибках сети.

### [UC3 - Изменение информации об интересах ученика](use-cases.md#uc3---изменение-информации-об-интересах-ученика)

- **FR12** - Система должна предоставлять репетитору возможность изменять интересы своих учеников.
- **FR13** - Система должна предоставлять ученику возможность изменять свои интересы.
- **FR14** - Система должна позволять отменять редактирование без сохранения изменений.
- **FR15** - Система должна сохранять изменения интересов в базе данных.
- **FR16** - Система должна информировать пользователя при ошибке сети.

### [UC4 - Составление отчёта по прогрессу ученика](use-cases.md#uc4---составление-отчёта-по-прогрессу-ученика)

- **FR17** - Система должна предоставлять репетитору возможность сформировать отчёт по прогрессу своих учеников.
- **FR18** - Система должна предоставлять ученику возможность сформировать свой отчёт по прогрессу.
- **FR19** - Система должна предоставлять пользователю выбор формата отчёта.
- **FR20** - Система должна отображать сформированный отчёт.
- **FR21** - Система должна информировать пользователя при ошибке сети.

### [UC5 - Прохождение учеником тестирования](use-cases.md#uc5---прохождение-учеником-тестирования)

- **FR22** - Система должна предоставлять ученику возможность проходить входные тесты по курсам и тесты по урокам.
- **FR23** - Система должна проверять корректность ответов теста и сохранять результаты в базе данных.
- **FR24** - Система должна информировать пользователя об ошибках заполнения и сетевых ошибках.

### [UC6 - Формирование персональной траектории обучения](use-cases.md#uc6---формирование-персональной-траектории-обучения)

- **FR25** - Система должна позволять преподавателю выбрать курс и ученика для генерации персональной траектории обучения.
- **FR26** - Система должна автоматически генерировать персонализированный граф курса с учётом знаний и интересов ученика.
- **FR27** - Система должна предоставлять возможность преподавателю утверждать или корректировать сформированный граф.
- **FR28** - Система должна сохранять утверждённую траекторию обучения в базе данных.
- **FR29** - Система должна информировать о сетевых и внутренних ошибках генерации траектории.

### [UC7 - Генерация плана урока](use-cases.md#uc7---генерация-плана-урока)

- **FR30** - Система должна позволять преподавателю выбрать ученика, курс, урок для генерации персонального плана урока.
- **FR31** - Система должна генерировать персонализированный план урока с учётом материалов, знаний и интересов ученика.
- **FR32** - Система должна предоставлять возможность преподавателю утверждать или корректировать план урока.
- **FR33** - Система должна сохранять утверждённый план урока в базе данных.
- **FR34** - Система должна информировать о сетевых и внутренних ошибках генерации плана.

### [UC8 - Оценка результатов урока](use-cases.md#uc8---оценка-результатов-урока)

- **FR35** - Система должна предоставлять преподавателю форму для оценки результатов урока и написания заметок.
- **FR36** - Система должна автоматически генерировать общую оценку на основе результатов тестирования.
- **FR37** - Система должна позволять преподавателю корректировать общую оценку и решать вопрос о необходимости повторения темы.
- **FR38** - Система должна сохранять результаты оценки и обновлять траекторию обучения в базе данных при необходимости.
- **FR39** - Система должна информировать пользователя об ошибках сети и внутренних ошибках.

### [UC9 - Составление курса](use-cases.md#uc9---составление-курса)

- **FR40** - Система должна позволять преподавателю добавить новый курс с названием, темами и учебными материалами.
- **FR41** - Система должна проверять корректность введённых данных.
- **FR42** - Система должна сохранять созданный курс в базе данных.
- **FR43** - Система должна информировать о некорректных данных и сетевых ошибках.

### [UC10 - Добавление ученика в курс](use-cases.md#uc10---добавление-ученика-в-курс)

- **FR44** - Система должна позволять преподавателю добавлять ученика в курс по электронной почте.
- **FR45** - Система должна проверять корректность Email и существование ученика.
- **FR46** - Система должна отправлять приглашение ученику по Email.
- **FR47** - Система должна учитывать подтверждение приглашения учеником и зачислять его на курс.
- **FR48** - Система должна информировать пользователя о сетевых и иных ошибках при добавлении ученика.

---

## 4. Нефункциональные требования

### 4.1 Производительность

- Среднее время ответа Backend API ≤ 3 секунд (без учёта внешних API). 95-й перцентиль времени ответа ≤ 5 секунд.
- Среднее время генерации персонализированного графа курса ≤ 30 секунд. 95-й перцентиль времени генерации персонализированного графа курса ≤ 60 секунд.
- Среднее время генерации персонализированного плана урока ≤ 15 секунд. 95-й перцентиль времени генерации персонализированного плана урока ≤ 40 секунд.

### 4.2 Пропускная способность

- Система должна поддерживать не менее 100 одновременных пользователей без деградации.
- Поддержка ≥ 1000 запросов в минуту при пиковых нагрузках.
- Система должна иметь возможность масштабирования для поддержки увеличения числа пользователей и курсов.

### 4.3 Доступность

- Система должна иметь среднее время безотказной работы (MTBF) не менее 99% времени в месяц.
- Система должна обеспечивать корректное восстановление после сбоев и сбоев сети без потери данных.
- Время восстановления после сбоя ≤ 15 минут (RTO).

### 4.4 Комфорт

- Интерфейс системы должен быть интуитивно понятен и удобен для пользователей с разным уровнем технической подготовки.
- Платформа должна предоставлять адаптивный дизайн для корректного отображения на мобильных устройствах и десктопах.

### 4.5 Безопасность

- Все персональные данные пользователей должны храниться и передаваться с использованием шифрования (например, TLS для передачи, и шифрование базы данных, хранение паролей только в виде хэшей).
- Доступ к данным пользователей ограничен ролевой моделью (RBAC).
- Система должна предотвращать несанкционированный доступ и атаки типа SQL-инъекция, XSS и другие распространённые уязвимости.

### 4.6 Поддержка и сопровождение

- Все операции должны логироваться для последующего аудита и анализа ошибок.
- Система должна позволять обновления и развертывание новых версий без длительных простоев.

### 4.7. Совместимость

- Система должна корректно работать в современных браузерах (Chrome, Firefox, Edge, Safari) последних двух версий.

---

## 5. Технологический стек

- **frontend** - VueJS - TypeScript
- **backend** - FastAPI - Python
- **database** - PostgreSQL
- **vector database** - LanceDB
- **Инференс-платформа** - Ollama - Gemma

---

## 6. Архитектурные принципы
- Используется модель **C4** для описания архитектуры:
  - Context Diagram — пользователи и внешние системы.
  - Container Diagram — мобильное/веб‑приложение, Backend API, база данных.
  - Component Diagram — внутренняя структура Backend API.
- Backend API реализует бизнес‑логику.
- Backend API выполнен в виде нескольких модулей (для взаимодействия с инференс-платформой, с данным, работы с графами).
- Данные пользователей и рецептов хранятся централизованно в PostgreSQL.
- Принцип **Separation of Concerns**: разделение ответственных частей Backend API по модулям.
- Принцип **Fail‑safe defaults**: при сбое одного из модулей система возвращает fallback‑ответ.

---

## 7. Ограничения и допущения
- Инференс-платформа и запущенная на ней модель используются уже готовые.
- Система ориентирована на работу в облачной инфраструктуре.
- Поддерживаются только современные браузеры.

---
