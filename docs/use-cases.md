# D2 - Use-case Narrative
## Happy Path

Цель:\
Получить персонализированный план на предстоящее занятие с учеником на основе полученных данных об учащемся.

Предусловие:
1) пользователь авторизован в системе;
2) сервис интегрирован в календарём;
3) у пользователя в календаре есть предстоящие встречи с добавленными учащимися.

Flow:
1. Пользователь отправляет запрос на получение данных о занятиях из календаря;
2. Система автоматически подтягивает список предстоящих занятий с учениками из календаря пользователя;
3. Система отображает ближайшие занятия и предлагает выбрать нужное;
4. Пользователь выбирает занятие из списка;
5. Сервер, используя полученные ссылки, собирает информацию об интересах ученика из открытых источников;
6. LLM анализирует собранные данные;
7. LLM генерирует персонализированные задания для занятия с учеником, а также актуальные вопросы и стратегии взаимодействия;
8. Сервер возвращает и отображает экран с готовым брифом;
9. Пользователь экспортирует готовый персонализированный бриф в PDF.

Ценность сценария:\
Экономия времени на подготовку к занятию (до 70%), повышение продуктивности и персонализации общения.

## Alternate Flows

1. У системы нет доступа к календарю:\
  Описание: пользователь не дал доступ к Google/Outlook календарю.\
  Реакция системы: сервис предлагает пользователю вручную ввести данные встречи и ссылки на участников.\
  Ценность сценария: возможность использовать систему даже без интеграции с календарём.
2. У пользователя нет интернета:\
  Описание: пользователь открывает сервис, но соединение с сетью отсутствует.\
  Реакция системы: отображается офлайн-сообщение и возможность просмотреть ранее сохранённые брифы.\
  Ценность сценария: доступ к подготовленным данным даже без интернета.

## Error Handling

1. Технический сбой сервера:\
  Описание: при обработке данных о встрече сервер возвращает 500 Internal Server Error. \
  Реакция системы: сервис уведомляет о сбое, предлагает повторить позже.\
  Ценность сценария: прозрачность для пользователя при технических сбоях сервера.
2. Некорректный ввод:\
  Описание: пользователь вручную вводит некорректную ссылку (например, текст вместо URL).\
  Реакция системы: отображается валидационная ошибка, подсказка с корректным форматом.\
  Ценность сценария: повышение качества ввода данных при вводе некорректных ссылок.
3. Превышение лимита запросов:\
  Описание: пользователь делает слишком много запросов за короткий промежуток времени.\
  Реакция системы: отображается сообщение о превышении лимита, указывается время ожидания.\
  Ценность сценария: стабильная работа системы при слишком частых запросах со стороны пользователя.

## UML Диаграммы

1. Flow Diagram:
![Flow Diagram](assets/flow_diagram.png)
Рисунок 1 - Flow Diagram основного use-case

2. Sequence Diagram:
![Sequence Diagram](assets/sequence_diagram.png)
Рисунок 2 - Sequence Diagram основного use-case
