# ML Requirements Document

## Модели и компоненты

### 1. Типы моделей

**Основные LLM модели:**
- **Ollama с DeepSeek-R1**: Для генерации контента, ответов, тестов
- **Локальные эмбеддинг-модели**: TF-IDF для семантического поиска
- **LightGBM/XGBoost**: Для рекомендаций и классификации (опционально)

**Специализированные модели:**
- Генерация тестов: DeepSeek-R1 8B
- Генерация графов: DeepSeek-R1 8B  
- Генерация уроков: DeepSeek-R1 8B
- Анализ прогресса: DeepSeek-R1 8B

### 2. Требования к производительности

**Latency (задержки):**
- Генерация теста: < 30 секунд
- Генерация урока: < 45 секунд
- Генерация графа: < 60 секунд
- Поиск по базе: < 5 секунд

**Throughput (пропускная способность):**
- Одновременные пользователи: 10+
- Запросов в час: 100+
- Размер батча: 1 (streaming)

### 3. Метрики качества

**Точность контента:**
- BLEU score: > 0.4
- ROUGE-L: > 0.5
- Semantic similarity: > 0.7

**Качество генерации:**
- Hallucination rate: < 15%
- Context relevance: > 0.8
- Factual accuracy: > 0.85

**Пользовательские метрики:**
- Teacher satisfaction: > 4/5
- Student engagement: > 3.5/5
- Time saved: > 60%

### 4. Ограничения

**Память:**
- Максимальный RAM: 16GB
- VRAM для моделей: 8GB
- Размер векторной БД: 2GB

**Стоимость:**
- Локальные модели: 0 (Ollama)
- Облачные API: $0 (локальная инфраструктура)
- Хранение данных: < $10/мес

**Приватность:**
- Все данные локально
- Шифрование ученических данных
- GDPR compliance

### 5. Инфраструктура

**ML Pipeline:**
1. Data collection → 2. Preprocessing → 3. Model training → 4. Evaluation → 5. Deployment

**Tools:**
- Ollama для LLM
- Scikit-learn для эмбеддингов
- FastAPI для сервера
- Langfuse для мониторинга

